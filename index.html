<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>galeforce - v0.4.0</title>
	<meta name="description" content="Documentation for galeforce - v0.4.0">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">galeforce - v0.4.0</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>galeforce - v0.4.0</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#galeforce" id="galeforce" style="color: inherit; text-decoration: none;">
					<h1>Galeforce</h1>
				</a>
				<hr>
				<p><a href="https://www.npmjs.com/package/galeforce"><img src="https://nodei.co/npm/galeforce.png?compact=true" alt="NPM"></a></p>
				<p><a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a>
					<img src="https://img.shields.io/npm/dt/galeforce" alt="npm">
					<a href="https://github.com/bcho04/galeforce/workflows/Node%20CI/badge.svg"><img src="https://github.com/bcho04/galeforce/workflows/Node%20CI/badge.svg" alt="Node CI"></a>
					<a href="https://github.com/bcho04/galeforce/workflows/CodeQL/badge.svg"><img src="https://github.com/bcho04/galeforce/workflows/CodeQL/badge.svg" alt="CodeQL"></a>
					<a href="https://www.codacy.com/gh/bcho04/galeforce/dashboard?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=bcho04/galeforce&amp;utm_campaign=Badge_Grade"><img src="https://app.codacy.com/project/badge/Grade/18a92440f7a5457db04632699c3546a6" alt="Codacy Badge"></a>
					<a href="https://codecov.io/gh/bcho04/galeforce"><img src="https://codecov.io/gh/bcho04/galeforce/branch/master/graph/badge.svg?token=7BJHF5KVX9" alt="codecov"></a>
					<a href="https://david-dm.org/bcho04/galeforce"><img src="https://david-dm.org/bcho04/galeforce.svg" alt="David"></a>
				<a href="https://img.shields.io/github/last-commit/bcho04/galeforce.svg?style=flat"><img src="https://img.shields.io/github/last-commit/bcho04/galeforce.svg?style=flat" alt="GitHub last commit"></a></p>
				<p>A customizable, promise-based, and command-oriented TypeScript library and fluent interface for the Riot Games API.</p>
				<a href="#features" id="features" style="color: inherit; text-decoration: none;">
					<h2>Features</h2>
				</a>
				<ul>
					<li><strong>Full API support</strong> for all Riot games, Data Dragon (LoL and LoR), and the Live Client Data API<ul>
							<li>Environment variable config integration for API keys and other values on both the desktop and platforms including Heroku.</li>
						</ul>
					</li>
					<li><strong>Customizable rate limiting</strong> with Redis clustering support and automated retries</li>
					<li><strong>Fully-typed DTOs and parameters</strong> for <em>all</em> endpoints</li>
					<li><strong>Fluent interface</strong> for seamless method chaining</li>
					<li><strong>Built-in, informative debugging</strong> using <code>debug</code></li>
				</ul>
				<p>Automatically-generated <strong>documentation</strong> is available <a href="https://bcho04.github.io/galeforce/">here</a>, and code <strong>examples</strong> can be found the section <a href="#guide">below</a>.</p>
				<a href="#table-of-contents" id="table-of-contents" style="color: inherit; text-decoration: none;">
					<h2>Table of Contents</h2>
				</a>
				<ul>
					<li><a href="#galeforce">Galeforce</a><ul>
							<li><a href="#features">Features</a></li>
							<li><a href="#table-of-contents">Table of Contents</a></li>
							<li><a href="#examples">Examples</a></li>
							<li><a href="#guide">Guide</a><ul>
									<li><a href="#actions">Actions</a></li>
									<li><a href="#using-dtos">Using DTOs</a></li>
									<li><a href="#config-structure">Config structure</a></li>
									<li><a href="#documentation">Documentation</a></li>
								</ul>
							</li>
							<li><a href="#disclaimer">Disclaimer</a></li>
						</ul>
					</li>
				</ul>
				<hr>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h2>Examples</h2>
				</a>
				<p>If you&#39;re using <strong>ES6/TypeScript</strong>, simply add</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> GaleforceModule <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;galeforce&#x27;</span>;

<span class="hljs-keyword">const</span> galeforce = <span class="hljs-keyword">new</span> GaleforceModule(<span class="hljs-comment">/* config */</span>);
</code></pre>
				<p>to use the project. Or, if you&#39;re using <strong>CommonJS</strong> and <code>require()</code>, add Galeforce to your project like this:</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> GaleforceModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;galeforce&#x27;</span>);

<span class="hljs-keyword">const</span> galeforce = <span class="hljs-keyword">new</span> GaleforceModule(<span class="hljs-comment">/* config */</span>);
</code></pre>
				<details>
					<summary>Get summoner data for a list of summoners</summary>
					<pre><code class="language-javascript"><span class="hljs-keyword">const</span> summoners = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>];
<span class="hljs-keyword">const</span> promises = summoners.map(<span class="hljs-function"><span class="hljs-params">summoner</span> =&gt;</span> galeforce.lol.summoner()
  .region(galeforce.region.lol.NORTH_AMERICA)
  .name(summoner)
  .exec()
); <span class="hljs-comment">// list of request promises</span>
<span class="hljs-built_in">Promise</span>.all(promises).then(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(result); <span class="hljs-comment">// [{ name: &#x27;a&#x27;, ... }, ...]</span>
});
</code></pre>
				</details>
				<details>
					<summary>Get list of recent matchId values for a given accountId</summary>
					<pre><code class="language-javascript"><span class="hljs-keyword">const</span> matchIds = (<span class="hljs-keyword">await</span> galeforce.lol.match.list()
  .region(galeforce.region.lol.NORTH_AMERICA)
  .accountId(accountId)
  .exec())
  .matches.map(<span class="hljs-function"><span class="hljs-params">matchInfo</span> =&gt;</span> matchInfo.gameId);
</code></pre>
				</details>
				<details>
					<summary>Get match data using await</summary>
					<pre><code class="language-javascript"><span class="hljs-keyword">const</span> matchData = <span class="hljs-keyword">await</span> galeforce.lol.match.match()
  .region(galeforce.region.lol.NORTH_AMERICA)
  .matchId(matchId)
  .exec();
</code></pre>
				</details>
				<details>
					<summary>Get total number of mastery points for a summoner</summary>
					<pre><code class="language-javascript"><span class="hljs-keyword">const</span> totalMasteryPoints = (<span class="hljs-keyword">await</span> galeforce.lol.mastery.list()
  .region(galeforce.region.lol.NORTH_AMERICA)
  .summonerId(summonerId)
  .exec())
  .reduce(<span class="hljs-function">(<span class="hljs-params">previous, current</span>) =&gt;</span> previous + current.championPoints, <span class="hljs-number">0</span>);
</code></pre>
				</details>
				<hr>
				<a href="#guide" id="guide" style="color: inherit; text-decoration: none;">
					<h2>Guide</h2>
				</a>
				<a href="#actions" id="actions" style="color: inherit; text-decoration: none;">
					<h3>Actions</h3>
				</a>
				<p>Each endpoint in the Galeforce library is an instance of an <code>Action</code> containing the following methods:</p>
				<details>
					<summary><code>.exec()</code></summary>
					<blockquote>
						<p>Executes the <code>Action</code> with the parameters set by methods such as <code>.region()</code>, <code>.summonerId()</code>, etc., returning a <em>Promise</em>.</p>
						<p><strong>Example</strong></p>
						<pre><code class="language-javascript"><span class="hljs-comment">/* Gets Valorant platform and status data. */</span>
galeforce.val.status() <span class="hljs-comment">// Target the /val/status/v1/platform-data endpoint</span>
  .region(galeforce.region.val.NORTH_AMERICA) <span class="hljs-comment">// See below for documentation.</span>
  .exec() <span class="hljs-comment">// Sends a Valorant server status request to the val-status-v1 endpoint</span>
  .then(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> { <span class="hljs-comment">// Use the returned data</span>
    <span class="hljs-comment">/* manipulate status data */</span>
  });
</code></pre>
					</blockquote>
				</details>
				<details>
					<summary><code>.URL()</code></summary>
					<blockquote>
						<p>Returns the endpoint URL associated with the <code>Action</code> and its previously-set parameters.</p>
						<p><strong>Example</strong></p>
						<pre><code class="language-javascript"><span class="hljs-comment">/* Gets the Data Dragon URL associated with the Galeforce icon. */</span>
<span class="hljs-keyword">const</span> galeforceURL = galeforce.lol.ddragon.item.art() <span class="hljs-comment">// Fetch item icon art from Data Dragon</span>
  .version(<span class="hljs-string">&#x27;11.9.1&#x27;</span>) <span class="hljs-comment">// See the .&lt;property&gt;() section for documentation. Sets the version to retrieve data from.</span>
  .assetId(<span class="hljs-number">6671</span>) <span class="hljs-comment">// See below for documentation. Get the icon for the Galeforce item.</span>
  .URL(); <span class="hljs-comment">// Get the encoded URL corresponding with the selected endpoint as a string.</span>

<span class="hljs-built_in">console</span>.log(galeforceURL); <span class="hljs-comment">// &#x27;https://ddragon.leagueoflegends.com/cdn/11.9.1/img/item/6671.png&#x27;</span>
</code></pre>
					</blockquote>
				</details>
				<details>
					<summary><code>.<em>&lt;property&gt;</em>()</code></summary>
					<blockquote>
						<p>Sets the <em>property</em> (<code>region</code>, <code>summonerId</code>, <code>puuid</code>, etc.) in the Action request payload. Different methods are exposed for each endpoint depending on the required path, query, and body parameters.</p>
						<p><strong>Example</strong></p>
						<pre><code class="language-javascript"><span class="hljs-comment">/* Gets current game info for a specific summonerId. */</span>
<span class="hljs-keyword">const</span> currentGameInfo = <span class="hljs-keyword">await</span> galeforce.lol.spectator.active() <span class="hljs-comment">// Target the /lol/spectator/v4/active-games/by-summoner/{summonerId} endpoint</span>
  .region(galeforce.region.lol.NORTH_AMERICA) <span class="hljs-comment">// Sets the request region to &#x27;na1&#x27; (i.e., target the NA server)</span>
  .summonerId(<span class="hljs-string">&#x27;summonerId&#x27;</span>) <span class="hljs-comment">// Sets the request summonerId to &#x27;summonerId&#x27;</span>
  .exec(); <span class="hljs-comment">// See .exec() above.</span>
</code></pre>
						<p><code>.&lt;property&gt;()</code> methods may only be called once and are removed from the Action after being used.</p>
						<pre><code class="language-javascript"><span class="hljs-comment">/* Gets current game info for a specific summonerId. */</span>
<span class="hljs-keyword">const</span> currentGameInfo = <span class="hljs-keyword">await</span> galeforce.lol.spectator.active() <span class="hljs-comment">// Target the /lol/spectator/v4/active-games/by-summoner/{summonerId} endpoint</span>
  .region(galeforce.region.lol.NORTH_AMERICA) <span class="hljs-comment">// Sets the request region to &#x27;na1&#x27; (i.e., target the NA server)</span>
  .region(galeforce.region.lol.KOREA) <span class="hljs-comment">// galeforce.lol.spectator.active(...).region(...).region is not a function</span>
</code></pre>
					</blockquote>
				</details>
				<details>
					<summary><code>.set()</code></summary>
					<blockquote>
						<p>Sets multiple <em>properties</em> (<code>region</code>, <code>summonerId</code>, <code>puuid</code>, etc.) in the Action request payload simultaneously.</p>
						<p><strong>Example</strong></p>
						<pre><code class="language-javascript"><span class="hljs-comment">/* Gets league entries for a given Teamfight Tactics ranked league. */</span>
<span class="hljs-keyword">const</span> TFTLeagueInfo = <span class="hljs-keyword">await</span> galeforce.tft.league.entries() <span class="hljs-comment">// Target the /tft/league/v1/entries/{tier}/{division} endpoint</span>
  .set({ <span class="hljs-comment">// Set multiple Action payload properties simultaneously</span>
    <span class="hljs-attr">region</span>: galeforce.region.lol.NORTH_AMERICA, <span class="hljs-comment">// Sets the request region to &#x27;na1&#x27; (i.e., target the NA server)</span>
    <span class="hljs-attr">tier</span>: galeforce.tier.DIAMOND, <span class="hljs-comment">// Sets the request tier to &#x27;DIAMOND&#x27; (i.e., search for players in Diamond)</span>
    <span class="hljs-attr">division</span>: galeforce.division.IV, <span class="hljs-comment">// Sets the request division to &#x27;IV&#x27; (i.e., search for players in division IV of their tier)</span>
  })
  .exec(); <span class="hljs-comment">// See .exec() above.</span>
</code></pre>
					</blockquote>
				</details>
				<a href="#using-dtos" id="using-dtos" style="color: inherit; text-decoration: none;">
					<h3>Using DTOs</h3>
				</a>
				<p>Galeforce includes DTOs for all Riot API responses as TypeScript interfaces. Although all actions already return an object typed with the corresponding DTO, these can be accessed explicitly via <strong><code>GaleforceModule.dto</code></strong> or as another export:</p>
				<blockquote>
					<pre><code class="language-typescript"><span class="hljs-keyword">import</span> GaleforceModule <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;galeforce&#x27;</span>;

<span class="hljs-keyword">const</span> summonerData: GaleforceModule.dto.SummonerDTO = ... 
<span class="hljs-comment">// get summoner data</span>
</code></pre>
				</blockquote>
				<blockquote>
					<pre><code class="language-typescript"><span class="hljs-keyword">import</span> GaleforceModule, { dto } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;galeforce&#x27;</span>;

<span class="hljs-keyword">const</span> summonerData: dto.SummonerDTO = ...
<span class="hljs-comment">// get summoner data</span>
</code></pre>
				</blockquote>
				<a href="#config-structure" id="config-structure" style="color: inherit; text-decoration: none;">
					<h3>Config structure</h3>
				</a>
				<p>When initializing Galeforce, a config object (JSON) or a path to a YAML file may <em>optionally</em> be passed to the <code>GaleforceModule()</code> constructor as an argument:</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> galeforce = <span class="hljs-keyword">new</span> GaleforceModule(<span class="hljs-comment">/* optional config file path or object */</span>);
</code></pre>
				<p>Omitting the config will prevent Galeforce from being able to interface with the <a href="https://developer.riotgames.com/">Riot Games API</a> (as no API key will be specified), although Data Dragon and the Live Client Data API will still be available.</p>
				<p>Template string-like values (such as <code>${RIOT_KEY}</code>) will be evaluated using environment variables in <code>process.env</code>. The configuration file may contain any of the following structure (all top-level fields are optional):</p>
				<pre><code class="language-yaml"><span class="hljs-attr">riot-api:</span>
  <span class="hljs-attr">key:</span> <span class="hljs-string">&#x27;RGAPI-???&#x27;</span> <span class="hljs-comment"># (string) Your Riot API key from https://developer.riotgames.com</span>
<span class="hljs-attr">rate-limit:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">&#x27;bottleneck&#x27;</span> <span class="hljs-comment"># (string) The type of rate limiter Galeforce should use (&#x27;bottleneck&#x27;, &#x27;null&#x27;)</span>
  <span class="hljs-attr">cache:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">${CACHE_TYPE}</span> <span class="hljs-comment"># (string) What kind of cache to use (&#x27;redis&#x27;, &#x27;internal&#x27;)</span>
    <span class="hljs-attr">uri:</span> <span class="hljs-string">${CACHE_URI}</span> <span class="hljs-comment"># (string) The cache URI to connect to (required for &#x27;redis&#x27; cache)</span>
    <span class="hljs-attr">key-id:</span> <span class="hljs-string">&#x27;galeforce&#x27;</span> <span class="hljs-comment"># (string) The key ID to use for rate-limiting keys in the Redis cache</span>
  <span class="hljs-attr">options:</span>
    <span class="hljs-attr">intervals:</span> <span class="hljs-comment"># (key &lt;seconds&gt;: value &lt;number of requests&gt;) Manually-set local rate limits, applied per region</span>
      <span class="hljs-attr">120:</span> <span class="hljs-number">100</span>
      <span class="hljs-attr">1:</span> <span class="hljs-number">20</span>
    <span class="hljs-attr">max-concurrent:</span> <span class="hljs-literal">null</span> <span class="hljs-comment"># (null | number) The maximum number of concurrent requests allowed. Setting to null allows unlimited concurrent requests.</span>
    <span class="hljs-attr">min-time:</span> <span class="hljs-number">0</span> <span class="hljs-comment"># (number) The minimum amount of time between consecutive requests</span>
    <span class="hljs-attr">retry-count-after-429:</span> <span class="hljs-number">3</span> <span class="hljs-comment"># (number) The number of retry attempts after an HTTP 429 error is received, delayed by response header</span>
<span class="hljs-attr">debug:</span> [] <span class="hljs-comment"># A list containing any of &#x27;action&#x27;, &#x27;payload&#x27;, &#x27;rate-limit&#x27;, &#x27;riot-api&#x27;, &#x27;*&#x27; (all)</span>
</code></pre>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h3>Documentation</h3>
				</a>
				<p>See <a href="https://bcho04.github.io/galeforce/">here</a> for further documentation and a complete list of methods.</p>
				<hr>
				<a href="#disclaimer" id="disclaimer" style="color: inherit; text-decoration: none;">
					<h2>Disclaimer</h2>
				</a>
				<p>Galeforce isn&#39;t endorsed by Riot Games and doesn&#39;t reflect the views or opinions of Riot Games or anyone officially involved in producing or managing League of Legends. League of Legends and Riot Games are trademarks or registered trademarks of Riot Games, Inc. League of Legends Â© Riot Games, Inc.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/galeforce.html">Galeforce</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/internal_riot_api.html">internal/riot-<wbr>api</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/internal_undefined.html">internal/undefined</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer>
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>